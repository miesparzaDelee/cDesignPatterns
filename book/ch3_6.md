## API / VTable Pattern

### Overview

Adds runtime polymorphism. A base API type contains a pointer to a vtable (table of function pointers). Each derived type provides its own vtable implementation. All polymorphic objects are accessed via the single shared base type.

### Implementation

#### VTable Structure

```c
typedef struct {
    uint32_t (*get_area)(void* self);
    void (*draw)(void* self);
} shape_api_vtable_t;
```

#### API Base Type

```c
typedef struct {
    shape_t* base;
    const shape_api_vtable_t* vtable;
} shape_api_t;
```

#### Derived API Shapes

Wrapping the inheritance-layer shapes:

```c
typedef struct {
    shape_api_t api;
    shape_rectangle_t* shape;
} api_rectangle_t;
```

### Usage Example

```c
shape_api_t* s = (shape_api_t*)&apiRect;
s->vtable->draw(s);
```

### Important Notes

- This layer is **NEW** and does not modify earlier example files
- It "upgrades" inheritance into full polymorphism
- Derived api_shapes wrap your existing inheritance shapes
